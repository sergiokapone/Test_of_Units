%%============================ Compiler Directives =======================%%
%%                                                                        %%
% !TeX program = lualatex							    	
% !TeX encoding = utf8
% !TeX spellcheck = uk_UA
%%                                                                        %%
%%============================== Клас документа ==========================%%
%%                                                                        %%
\documentclass[14pt]{extarticle}
\IfFileExists{ukrcorr.sty}{\usepackage{ukrcorr}}{}
%%                                                                        %%
%%========================== Мови, шрифти та кодування ===================%%
%%                                                                        %%
\usepackage{fontspec}
\setsansfont{CMU Sans Serif}%{Arial}
\setmainfont{CMU Serif}%{Times New Roman}
\setmonofont{CMU Typewriter Text}%{Consolas}
\defaultfontfeatures{Ligatures={TeX}}
\usepackage[math-style=TeX]{unicode-math}
\usepackage[english, russian, ukrainian]{babel}

%%                                                                        %%
%%============================= Геометрія сторінки =======================%%
%%                                                                        %%
\usepackage[%
	a4paper,%
	footskip=1cm,%
	headsep=0.3cm,% 
	top=2cm, %поле сверху
	bottom=2cm, %поле снизу
	left=2cm, %поле ліворуч
	right=2cm, %поле праворуч
    ]{geometry}                

\usepackage{pgfplotstable}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{longtable}

\title{Sergio posts in \url{https://physics.stackexchange.com}}
\date{}

\begin{document}
\maketitle
%\pgfplotstableset{create on use/No/.style
%  = {create col/expr accum={\pgfmathaccuma+1}{0}}}

\begin{center}
	\pgfplotstabletypeset[%
    begin table=\begin{longtable},
    end table=\end{longtable},
		every head row/.style={before row = \toprule, after row = \midrule},
		every last row/.style={after row = \bottomrule},
		col sep=semicolon,
		string type,
        sort, sort cmp={int <},sort key=score,
%		        columns/title/.style={column type = l,
%		            preproc cell content/.append code={%
%		                \pgfkeyssetvalue{/pgfplots/table/@cell content}{\href{\thisrow{link}}{##1}}
%		            },        
%		        },
%		        columns/link/.style={%
%		           column type = l,
%		           column name = {URL link}, 
%		           preproc cell content/.append code={%
%		                \pgfkeyssetvalue{/pgfplots/table/@cell content}{\url{##1}}
%		            },
%		        },
		columns={titlink,score},% Declare the column order
		create on use/titlink/.style={create col/assign/.code={%
						\edef\temp{\noexpand\href{\thisrow{link}/}{\thisrow{title}}}%
						\pgfkeyslet{/pgfplots/table/create col/next content}\temp%
					},
			},
		columns/titlink/.style={%
                column name = {Tiles of questions},
				column type = {p{.9\textwidth}},
			},
	]{usertex.csv}
\end{center}

\end{document}